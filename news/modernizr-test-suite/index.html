<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=msapplication-cortanavcd content="http://localhost:3000/vcd.xml"><title>Modernizr News</title><link rel=stylesheet href="/css/main.css"><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600&subset=latin,latin-ext" rel=stylesheet type=text/css><link rel=alternate type=application/rss+xml title="RSS Feed for Modernizr.com" href="/feed"></head><body><header class=header role=banner><div class=header-logo><a title=modernizr.com href="/"><i class=logo>Modernizr</i></a></div><label for=header-items-toggle class=header-items-toggle>MENU</label><input id=header-items-toggle class=option-checkbox type="checkbox"><nav role=navigation class=header-items><a class=header-item href=/download>Download</a> <a class=header-item href="/">Documentation</a> <a class=header-item href=/news>News</a> <a class=header-item href="/">Resources</a></nav></header><main role=main id=main class="news home"><article class=blogpost><header><h1>How Does Modernizr’s Test Suite Work?</h1><span class="author light" rel=author>Posted by Modernizr, on <a href=/news/modernizr-test-suite>November 7, 2011</a></span></header><p>Sometimes, members of the team get asked how we ascertain and verify that the features we detect are accurately detected. It’s not always a simple process, but over time we’ve put together a test suite that helps us out a lot.</p><p>Paul has recorded a screencast discussing how this test suite for Modernizr was built. The brief summary: initially built with QUnit, the test suite has coverage over the full API surface area of Modernizr, even using kangax’s <a href=https://github.com/kangax/detect-global>detect-global</a> script to assure no globals are introduced beyond <code>Modernizr</code> and <code>yepnope</code>. After that it gets interesting—as verifying the results from Modernizr’s detection of the current browser’s features isn’t straightforward. We end up using APIs from both Caniuse.com and GitHub, using projects like Lloyd Hilaiel’s <a href="http://jsonselect.org/">JSONSelect</a>, Lindsey Simon&#39;s <a href=https://github.com/tobie/ua-parser>ua-parser</a> (ported to Node by <a href=http://twitter.com/tobie>@tobie</a>), some ES5 polyfills, and some real sexy jQuery Deferred action to elegantly handle a bunch of <code>$.getScript</code> calls.</p><p>20 minutes of javascript and feature detection action below.</p><iframe title="Modernizr's test suite: Behind the Scenes" width=640 height=480 src="https://www.youtube.com/embed/Mbt6h1BFW8g?feature=player_embedded" frameborder=0 allowfullscreen></iframe><div class=blogpost-links><a class="blogpost-link blogpost-link-prev" href=/news/modernizr-and-cdns>Modernizr and Content Delivery Networks (CDNs)</a><a class="blogpost-link blogpost-link-next" href=/news/modernizr-25>Modernizr 2.5: Supercharged for 2012</a></div></article></main><footer role=contentinfo class=footer><div class=footer-links><div>Made with love by <a class=teamMember href=https://twitter.com/KuraFire>Faruk</a>, <a class=teamMember href=https://twitter.com/paul_irish>Paul</a>, <a class=teamMember href=https://twitter.com/SlexAxton>Alex</a>, <a class=teamMember href=https://twitter.com/ryanseddon>Ryan</a>, <a class=teamMember href=https://twitter.com/patrickkettner>Patrick</a>, <a class=teamMember href=https://twitter.com/stucoxmedia>Stu</a>, and <a class=teamMember href=https://twitter.com/doctyper>Richard</a>.</div><div><a target=_blank href=/feed>Subscribe to the feed</a>, <a href=https://twitter.com/Modernizr>follow on twitter</a>, or <a href="https://paulirish.wufoo.com/forms/p1hsxsru1ohiv0u/">contact us</a></div><form action=https://www.paypal.com/cgi-bin/webscr method=post id=donateForm><input type=hidden name=cmd value=_s-xclick> <input type=hidden name=hosted_button_id value=T3SNE26ADDVX6> A <button class=fakelink>donation</button> would be super cool, too.</form></div><a class=hiddentext title="Check out the code on github" href=https://github.com/modernizr/modernizr>Check out the code on github</a></footer></body></html>